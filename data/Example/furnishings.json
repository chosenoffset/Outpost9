{
  "name": "Dungeon Crawl Furnishings",
  "description": "Furnishings and objects for a classic dungeon crawl roguelike",
  "furnishings": [
    {
      "name": "wooden_barrel",
      "display_name": "Wooden Barrel",
      "description": "An old wooden barrel. It might contain something useful.",
      "tile_name": "crate",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "storage", "destructible"],
      "properties": {
        "loot_table": "supplies"
      },
      "default_state": "closed",
      "interactions": [
        {
          "id": "search_barrel",
          "trigger": "interact",
          "description": "Search barrel",
          "single_use": true,
          "conditions": [],
          "effects": [
            {"type": "give_item", "value": "rations", "args": {"amount": 1}},
            {"type": "show_message", "value": "You found some rations!"}
          ]
        }
      ]
    },
    {
      "name": "weapon_rack",
      "display_name": "Weapon Rack",
      "description": "A wooden rack displaying various weapons. Some look usable.",
      "tile_name": "locker_closed",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "weapons", "loot"],
      "properties": {
        "loot_table": "weapons"
      },
      "default_state": "closed",
      "states": {
        "closed": {"tile_name": "locker_closed"},
        "open": {"tile_name": "locker_open"}
      },
      "interactions": [
        {
          "id": "take_weapon",
          "trigger": "interact",
          "description": "Take weapon",
          "conditions": [{"type": "state_equals", "value": "closed"}],
          "effects": [
            {"type": "set_state", "value": "open"},
            {"type": "give_item", "value": "weapon", "args": {"amount": 1}},
            {"type": "show_message", "value": "You take a rusty but serviceable sword from the rack."}
          ]
        },
        {
          "id": "rack_empty",
          "trigger": "interact",
          "description": "Examine rack",
          "priority": -1,
          "conditions": [{"type": "state_equals", "value": "open"}],
          "effects": [
            {"type": "show_message", "value": "The weapon rack is empty."}
          ]
        }
      ]
    },
    {
      "name": "ancient_tome",
      "display_name": "Ancient Tome",
      "description": "A dusty tome resting on a stone pedestal. Ancient runes glow faintly on its cover.",
      "tile_name": "computer_terminal",
      "interactable": true,
      "walkable": false,
      "tags": ["magic", "knowledge", "lore"],
      "properties": {
        "knowledge_type": "arcane"
      },
      "default_state": "active",
      "interactions": [
        {
          "id": "read_tome",
          "trigger": "interact",
          "description": "Read the tome",
          "conditions": [
            {"type": "state_equals", "value": "active"},
            {"type": "flag_not_set", "value": "tome_read"}
          ],
          "effects": [
            {"type": "set_flag", "value": "tome_read"},
            {"type": "show_message", "value": "You decipher ancient secrets. Knowledge flows into your mind!"},
            {"type": "give_item", "value": "scroll_of_knowledge", "args": {"amount": 1}}
          ]
        },
        {
          "id": "tome_already_read",
          "trigger": "interact",
          "description": "Read the tome",
          "priority": -1,
          "conditions": [{"type": "flag_set", "value": "tome_read"}],
          "effects": [
            {"type": "show_message", "value": "The tome's pages are now blank. Its knowledge has been absorbed."}
          ]
        }
      ]
    },
    {
      "name": "magical_brazier",
      "display_name": "Magical Brazier",
      "description": "A stone brazier filled with eternally burning magical flames.",
      "tile_name": "generator",
      "interactable": true,
      "walkable": false,
      "tags": ["magic", "light", "fire"],
      "properties": {
        "light_radius": "5"
      },
      "default_state": "lit",
      "interactions": [
        {
          "id": "examine_brazier",
          "trigger": "interact",
          "description": "Examine flames",
          "conditions": [{"type": "state_equals", "value": "lit"}],
          "effects": [
            {"type": "show_message", "value": "The magical flames dance hypnotically. They provide warmth but no smoke."}
          ]
        },
        {
          "id": "relight_brazier",
          "trigger": "interact",
          "description": "Relight brazier",
          "conditions": [{"type": "state_equals", "value": "extinguished"}],
          "effects": [
            {"type": "set_state", "value": "lit"},
            {"type": "set_flag", "value": "brazier_relit"},
            {"type": "show_message", "value": "You channel magic into the brazier. The flames roar back to life!"}
          ]
        }
      ]
    },
    {
      "name": "stone_altar",
      "display_name": "Stone Altar",
      "description": "An ancient altar carved with mysterious symbols. It radiates an unsettling aura.",
      "tile_name": "console_center",
      "interactable": true,
      "walkable": false,
      "tags": ["magic", "ritual", "sacred"],
      "properties": {
        "deity": "unknown"
      },
      "interactions": [
        {
          "id": "pray_at_altar",
          "trigger": "interact",
          "description": "Pray at altar",
          "conditions": [],
          "effects": [
            {"type": "show_message", "value": "You feel a presence watching you from beyond the veil..."}
          ]
        }
      ]
    },
    {
      "name": "stone_table",
      "display_name": "Stone Table",
      "description": "A heavy stone table covered in scratches and stains.",
      "tile_name": "desk_west",
      "interactable": false,
      "walkable": false,
      "tags": ["furniture", "dungeon"],
      "properties": {}
    },
    {
      "name": "wooden_stool",
      "display_name": "Wooden Stool",
      "description": "A simple three-legged wooden stool.",
      "tile_name": "chair_south",
      "interactable": false,
      "walkable": false,
      "tags": ["furniture", "seating"],
      "properties": {}
    },
    {
      "name": "dungeon_door",
      "display_name": "Heavy Door",
      "description": "A heavy wooden door reinforced with iron bands.",
      "tile_name": "door_closed",
      "interactable": true,
      "walkable": false,
      "tags": ["door", "passage"],
      "properties": {},
      "default_state": "closed",
      "states": {
        "closed": {"tile_name": "door_closed", "walkable": false},
        "open": {"tile_name": "door_open", "walkable": true}
      },
      "interactions": [
        {
          "id": "open_door",
          "trigger": "interact",
          "description": "Open door",
          "conditions": [{"type": "state_equals", "value": "closed"}],
          "effects": [
            {"type": "set_state", "value": "open"},
            {"type": "show_message", "value": "The door creaks open on rusty hinges."}
          ]
        },
        {
          "id": "close_door",
          "trigger": "interact",
          "description": "Close door",
          "conditions": [{"type": "state_equals", "value": "open"}],
          "effects": [
            {"type": "set_state", "value": "closed"},
            {"type": "show_message", "value": "You push the heavy door shut."}
          ]
        }
      ]
    },
    {
      "name": "treasure_chest",
      "display_name": "Treasure Chest",
      "description": "An ornate wooden chest. Who knows what riches lie within?",
      "tile_name": "chest_closed",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "treasure", "loot"],
      "properties": {
        "loot_table": "treasure"
      },
      "default_state": "closed",
      "states": {
        "closed": {"tile_name": "chest_closed"},
        "open": {"tile_name": "chest_open"}
      },
      "interactions": [
        {
          "id": "open_chest",
          "trigger": "interact",
          "description": "Open chest",
          "conditions": [{"type": "state_equals", "value": "closed"}],
          "effects": [
            {"type": "set_state", "value": "open"},
            {"type": "give_item", "value": "gold", "args": {"amount": 50}},
            {"type": "show_message", "value": "You found 50 gold coins!"}
          ]
        },
        {
          "id": "chest_empty",
          "trigger": "interact",
          "description": "Search chest",
          "priority": -1,
          "conditions": [{"type": "state_equals", "value": "open"}],
          "effects": [
            {"type": "show_message", "value": "The chest is empty."}
          ]
        }
      ]
    },
    {
      "name": "locked_treasure_chest",
      "display_name": "Locked Chest",
      "description": "A sturdy chest bound in iron. A heavy lock secures it.",
      "tile_name": "chest_closed",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "treasure", "locked"],
      "properties": {},
      "default_state": "locked",
      "states": {
        "locked": {"tile_name": "chest_closed"},
        "unlocked": {"tile_name": "chest_closed"},
        "open": {"tile_name": "chest_open"}
      },
      "interactions": [
        {
          "id": "unlock_chest",
          "trigger": "interact",
          "description": "Unlock chest",
          "conditions": [
            {"type": "state_equals", "value": "locked"},
            {"type": "has_item", "value": "dungeon_key"}
          ],
          "effects": [
            {"type": "remove_item", "value": "dungeon_key"},
            {"type": "set_state", "value": "unlocked"},
            {"type": "show_message", "value": "The lock clicks open. The key crumbles to dust."}
          ]
        },
        {
          "id": "chest_locked_no_key",
          "trigger": "interact",
          "description": "Open chest",
          "priority": -1,
          "conditions": [
            {"type": "state_equals", "value": "locked"},
            {"type": "has_item", "value": "dungeon_key", "not": true}
          ],
          "effects": [
            {"type": "show_message", "value": "The chest is locked tight. You need a key."}
          ]
        },
        {
          "id": "open_unlocked_chest",
          "trigger": "interact",
          "description": "Open chest",
          "conditions": [{"type": "state_equals", "value": "unlocked"}],
          "effects": [
            {"type": "set_state", "value": "open"},
            {"type": "give_item", "value": "gold", "args": {"amount": 100}},
            {"type": "give_item", "value": "enchanted_gem", "args": {"amount": 1}},
            {"type": "show_message", "value": "You found 100 gold and an enchanted gem!"}
          ]
        },
        {
          "id": "locked_chest_empty",
          "trigger": "interact",
          "description": "Search chest",
          "priority": -2,
          "conditions": [{"type": "state_equals", "value": "open"}],
          "effects": [
            {"type": "show_message", "value": "The chest is empty."}
          ]
        }
      ]
    },
    {
      "name": "rusty_key",
      "display_name": "Rusty Key",
      "description": "An old iron key covered in rust. It might fit a lock somewhere.",
      "tile_name": "crate",
      "interactable": true,
      "walkable": true,
      "tags": ["item", "key", "pickup"],
      "properties": {},
      "interactions": [
        {
          "id": "pickup_key",
          "trigger": "interact",
          "description": "Pick up key",
          "single_use": true,
          "conditions": [],
          "effects": [
            {"type": "give_item", "value": "dungeon_key", "args": {"amount": 1}},
            {"type": "show_message", "value": "You picked up a rusty key."}
          ]
        }
      ]
    },
    {
      "name": "torch_sconce_left",
      "display_name": "Wall Torch",
      "description": "A torch mounted on the left wall. It flickers with dim light.",
      "tile_name": "console_left",
      "interactable": true,
      "walkable": false,
      "tags": ["light", "decoration"],
      "properties": {},
      "interactions": [
        {
          "id": "examine_torch_left",
          "trigger": "interact",
          "description": "Examine torch",
          "conditions": [],
          "effects": [
            {"type": "show_message", "value": "The torch casts dancing shadows on the dungeon walls."}
          ]
        }
      ]
    },
    {
      "name": "torch_sconce_right",
      "display_name": "Wall Torch",
      "description": "A torch mounted on the right wall. It flickers with dim light.",
      "tile_name": "console_right",
      "interactable": true,
      "walkable": false,
      "tags": ["light", "decoration"],
      "properties": {},
      "interactions": [
        {
          "id": "examine_torch_right",
          "trigger": "interact",
          "description": "Examine torch",
          "conditions": [],
          "effects": [
            {"type": "show_message", "value": "The flickering torch reveals ancient carvings on the walls."}
          ]
        }
      ]
    },
    {
      "name": "skeleton_remains",
      "display_name": "Skeleton",
      "description": "The skeletal remains of an unfortunate adventurer.",
      "tile_name": "chair_north",
      "interactable": true,
      "walkable": false,
      "tags": ["corpse", "loot", "atmospheric"],
      "properties": {},
      "default_state": "unsearched",
      "interactions": [
        {
          "id": "search_skeleton",
          "trigger": "interact",
          "description": "Search remains",
          "single_use": true,
          "conditions": [],
          "effects": [
            {"type": "give_item", "value": "gold", "args": {"amount": 15}},
            {"type": "show_message", "value": "You find some coins in the skeleton's pouch. May they rest in peace."}
          ]
        }
      ]
    },
    {
      "name": "healing_fountain",
      "display_name": "Healing Fountain",
      "description": "A mystical fountain filled with glowing water. It radiates restorative magic.",
      "tile_name": "desk_east",
      "interactable": true,
      "walkable": false,
      "tags": ["magic", "healing", "restoration"],
      "properties": {
        "heal_amount": "50",
        "uses": "3"
      },
      "default_state": "full",
      "interactions": [
        {
          "id": "drink_fountain",
          "trigger": "interact",
          "description": "Drink from fountain",
          "conditions": [
            {"type": "state_equals", "value": "full"},
            {"type": "counter_at_least", "value": "fountain_uses", "not": true}
          ],
          "effects": [
            {"type": "increment_counter", "value": "fountain_uses"},
            {"type": "show_message", "value": "The magical waters restore your vitality!"},
            {"type": "give_item", "value": "health_restored", "args": {"amount": 50}}
          ]
        },
        {
          "id": "fountain_depleted",
          "trigger": "interact",
          "description": "Drink from fountain",
          "priority": -1,
          "conditions": [{"type": "state_equals", "value": "empty"}],
          "effects": [
            {"type": "show_message", "value": "The fountain has run dry."}
          ]
        }
      ]
    },
    {
      "name": "spike_trap",
      "display_name": "Floor Tile",
      "description": "An ordinary looking floor tile... or is it?",
      "tile_name": "crate",
      "interactable": true,
      "walkable": true,
      "tags": ["trap", "danger", "hidden"],
      "properties": {
        "damage": "20"
      },
      "default_state": "hidden",
      "interactions": [
        {
          "id": "trigger_trap",
          "trigger": "enter",
          "description": "",
          "conditions": [
            {"type": "state_equals", "value": "hidden"},
            {"type": "random_chance", "value": "50"}
          ],
          "effects": [
            {"type": "set_state", "value": "triggered"},
            {"type": "show_message", "value": "Spikes shoot up from the floor! You take damage!"}
          ]
        },
        {
          "id": "disarm_trap",
          "trigger": "interact",
          "description": "Disarm trap",
          "conditions": [
            {"type": "state_equals", "value": "triggered"},
            {"type": "has_item", "value": "thieves_tools"}
          ],
          "effects": [
            {"type": "set_state", "value": "disarmed"},
            {"type": "show_message", "value": "You carefully disarm the spike trap."}
          ]
        }
      ]
    },
    {
      "name": "potion_shelf",
      "display_name": "Potion Shelf",
      "description": "A dusty shelf lined with various potion bottles.",
      "tile_name": "locker_closed",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "potions", "alchemy"],
      "properties": {},
      "default_state": "full",
      "states": {
        "full": {"tile_name": "locker_closed"},
        "empty": {"tile_name": "locker_open"}
      },
      "interactions": [
        {
          "id": "take_potion",
          "trigger": "interact",
          "description": "Take potion",
          "conditions": [{"type": "state_equals", "value": "full"}],
          "effects": [
            {"type": "set_state", "value": "empty"},
            {"type": "give_item", "value": "health_potion", "args": {"amount": 1}},
            {"type": "show_message", "value": "You take a health potion from the shelf."}
          ]
        },
        {
          "id": "shelf_empty",
          "trigger": "interact",
          "description": "Search shelf",
          "priority": -1,
          "conditions": [{"type": "state_equals", "value": "empty"}],
          "effects": [
            {"type": "show_message", "value": "The potion shelf is empty. Only dust remains."}
          ]
        }
      ]
    },
    {
      "name": "armor_stand",
      "display_name": "Armor Stand",
      "description": "A wooden stand displaying a suit of armor.",
      "tile_name": "generator",
      "interactable": true,
      "walkable": false,
      "tags": ["container", "armor", "equipment"],
      "properties": {},
      "default_state": "equipped",
      "interactions": [
        {
          "id": "take_armor",
          "trigger": "interact",
          "description": "Take armor",
          "single_use": true,
          "conditions": [{"type": "state_equals", "value": "equipped"}],
          "effects": [
            {"type": "set_state", "value": "empty"},
            {"type": "give_item", "value": "armor", "args": {"amount": 1}},
            {"type": "show_message", "value": "You take the armor from the stand. It's dented but functional."}
          ]
        },
        {
          "id": "stand_empty",
          "trigger": "interact",
          "description": "Examine stand",
          "priority": -1,
          "conditions": [{"type": "state_equals", "value": "empty"}],
          "effects": [
            {"type": "show_message", "value": "An empty armor stand. Cobwebs cling to its frame."}
          ]
        }
      ]
    }
  ]
}
